<?xml version="1.0" encoding="UTF-8"?>

<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">

	<map:flow language="javascript">
		<map:script src="XULApp.js"/>
	</map:flow>

	<map:pipelines>

		<map:pipeline type="noncaching" internal-only="true">
			<map:match pattern="xul.display">
				<map:generate src="{xmodule:flow-attr:xul}" />
				<map:transform type="xsltc" src="">
					<map:parameter name="continuation-id" value="{flow-continuation:id}" />
				</map:transform>
				<map:serialize type="html" />
			</map:match>
		</map:pipeline>

		<map:pipeline type="noncaching">
			<map:match pattern="**.xul">
				<map:call function="startXULApp">
					<map:parameter name="file" value="{1}.xul" />
				</map:call>
			</map:match>
		</map:pipeline>

		<map:pipeline type="caching">
			<map:match pattern="**">
				<map:read src="{1}" />
			</map:match>
		</map:pipeline>

	</map:pipelines>

</map:sitemap>

